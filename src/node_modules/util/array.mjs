import { isNotNil } from '@svizzle/utils';
import * as _ from 'lamb';

const _batch = (arr, batchSize) => {
	return arr.map((val, i) => {
		if (i % batchSize === 0) {
			return arr.slice(i, i + batchSize);
		}
		return null;
	});
};

export const batch = _.pipe([_batch, _.filterWith(isNotNil)]);

