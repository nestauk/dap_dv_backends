import { exec, execSync } from 'child_process';

import { displayCommandOutput } from 'util/shell.mjs';

export const init = dir => {
	const initCommand =
		`terraform -chdir=${dir} init`;
	console.log("[+] Terraform - Initialising...");
	execSync(initCommand, displayCommandOutput);
};

export const apply = dir => {
	const applyCommand =
	`terraform -chdir=${dir} apply -auto-approve`;
	console.log("[+] Terraform - Applying...");
	execSync(applyCommand, displayCommandOutput);
};


export const destroy = dir => {
	const destroyCommand =
		`terraform -chdir=${dir} destroy -auto-approve`;
	console.log("[+] Terraform - Destroying...");
	exec(destroyCommand, displayCommandOutput);
};
